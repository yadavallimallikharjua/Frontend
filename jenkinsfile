pipeline {
      label('jdk11-mvn3.8.5')
      triggers{ cron('H * * * *') }
      stages {
         stage('scm') {
            steps {
              git branch: 'declarative', url: 'https://github.com/yadavallimallikharjua/spring-petclinic.git'
             }
          }
         stage('build') {
             steps {
                '/usr/local/apache-maven3.8.5/mvn clean package'
               }
            } 
         stage('publish test reports') {
             steps {
                junit '**/TEST-*.xml'
               }
           }
          stage('archive') {
              steps {
                 archiveArtifacts: 'target/*.jar'
              }
          }
      }
  }
 
